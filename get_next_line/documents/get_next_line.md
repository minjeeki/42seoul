# Get Next Line

* [과제 원문 파일](./en.subject.pdf)

* [과제 관련 번역 파일 깃허브 링크](https://github.com/42seoul-translation/subject_ko/blob/master/get_next_line/get_next_line.ko.md)

* [get_next_line 작업 관련 노션 링크](https://bitter-cloth-1a0.notion.site/GetNextLine-80278d3c5a044d84ab107810a0123a71?pvs=4)

## 01 > 과제 목표

**파일 디스크립터로부터 개행으로 구분된 한줄을 받아와 읽고 반환하는 함수 만들기**

* 파일 디스크립터, 시스템 호출 함수(read)를 사용한 파일 내 한줄의 문장 읽는 함수 구현

* 정적 변수에 대한 이해

## 02 > 과제 설명

* 제출할 파일

	* [get_next_line.c](../get_next_line.c) : get_next_lie() 함수가 담겨 있는 파일

	* [get_next_line_utils.c](../get_next_line_utils.c) : 헬퍼 함수가 담겨 있는 파일

	* [get_next_line.h](../get_next_line.h) : 2개의 c언어 파일 내 함수들을 서로 연결해주는 헤더 파일

	* 그외 > [Makefile](../Makefile) : C언어 프로그램을 빌드하는데 사용되는 make 명령어의 설정 파일

* 함수 프로토 타입

	```C
	char *get_next_line(int fd);
	```

* 매개변수 : 읽어들일 파일의 디스크립터 (파일 서술자)

* 반환값

	* 정상 반환 : 읽어들인 문자열 한 줄 반환 (개행이 없는 경우가 아니라면 반환 문자열에는 \n이 포함되어야 함)

	* 에러 반환 (+ 읽어올 것이 더이상 없는 경우) : NULL 반환

* 사용 가능한 외부 함수

	* `<unistd.h>` 헤더 파일에 내장된 `read()`

	* `<stdlib.h>` 헤더 파일에 내장된 `malloc()`, `free()`

* 주의 사항

	* 컴파일 옵션에는 -D BUFFER_SIZE=42 가 반드시 있어야 한다. (이 때 BUFFER_SIZE 값이 1인 상황과 10000000인 경우도 생각해야 함)

	* 전체 파일을 읽은 후에 한줄씩 처리하는 것 안됨

	* libft 사용 및 lseek() 함수 사용 불가

	* 전역 변수 사용 불가

* 보너스 사항

	* 정적 변수를 한개만 사용해 get_next_line() 함수 개발하기

	* 여러개의 파일 디스크립터를 한번에 관리할 수 있는 함수 개발하기 (각 디스크립터 한줄씩 처리하면서 동작해야 함)


## 03 > 과제 필수 개념 조사

* 파일, 파일 시스템에 대한 기초적인 지식은 [파일, 파일 시스템, 파일 접근](./basic_of_file.md) 참고

### 0. 파일 입출력 함수

* 파일 입출력 함수, 표준 입출력 함수
	
	: 표준 입출력 함수 역시 내부적으로는 파일 입출력 함수이다.
		
	* 표준 입출력 함수 : stdout 포인터(콘솔의 출력 장치를 추상화한 파일)가 가리키는 파일에서 출력, stdin(입력 장치를 추상화한 파일)이 가리키는 파일에서 정보를 읽어오는 함수 => 입출력 대상이 장치 파일

	* 파일 입출력 함수 : 프로그램에서 연 파일(텍스트 또는 바이너리 파일)에 내용을 쓰거나 (입력), 읽는 (출력) 함수 => 입출력 대상이 텍스트 또는 바이너리 파일 (디스크에 존재하는 문자열을 출력 또는 디스크에 문자열을 기록)

* C언어에서 파일 입출력에 관련한 함수는 시스템 콜을 사용하는 방법과 표준 라이브러리 함수를 이용하는 방법이 있다.

	* [표준 라이브러리 함수를 이용한 파일 입출력](./file_io_by_library_func.md) : 정상 작동 시 파일 디스크립터를 반환한다.

	* [시스템 콜을 이용한 파일 입출력](./file_io_by_system_call.md) : 정상 작동 시 파일 포인터를 반환한다.

### 1. 시스템 호출 파일 입출력 함수 read()

### 2. 파일 디스크립터

: 컴퓨터 시스템에서 파일이나 기타 입출력 장치와 상호작용하기 위해 사용되는 숫자 식별자

* 각 파일이나 입출력 장치에 대해 정수 값으로 할당됨 (파일을 열거나 생성할 때 반환되는 정수가 파일 디스크립터)

* 파일 디스크립터를 이용해 시스템 호출 함수를 사용하면 파일 시스템의 파일에 대한 읽기, 쓰기, 닫기 등의 작업을 수행할 수 있음

### 3. 버퍼 사이즈

### 4. 정적 변수

### cf. 레퍼런스

* 블로그 > [C 파일 입출력: 시스템 콜 vs 라이브러리 함수](https://int-i.github.io/c/2020-04-19/c-file-io/)

* 책 > '독하게 시작하는 C 프로그래밍' 547 ~ 575pg 파일 입출력 파트

## 04 > 과제 코드 작성 전 로직 짜기

## 05 > 실제 프로그램 작성 중 발생한 이슈들

## 06 > 프로그램 테스트 방법 (테스트 프로그램, 테스트 코드)

* 테스트 코드 > [gnl_test.c](../gnl_test.c)

* 테스트 프로그램